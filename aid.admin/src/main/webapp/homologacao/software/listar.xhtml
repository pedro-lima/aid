<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/WEB-INF/template/template.xhtml">
	<ui:define name="content">

		<p:growl id="grow" showDetail="true"></p:growl>

		<p:panel id="panel" header="#{msg.listar_software}" toggleable="false">
			<p:focus context="panel" />
			<p:dataTable id="dataTable" var="soft"
				value="#{softwareBean.listagem}" paginator="true" rows="50"
				emptyMessage="#{msg.nao_existem_softwares_cadastrados}"
				currentPageReportTemplate="{currentPage} de {totalPages}"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
				<p:column headerText="#{msg.software_marca}">
					<h:outputText value="#{soft.marca}" />
				</p:column>
				<p:column headerText="#{msg.software_modelo}">
					<h:outputText value="#{soft.modelo}" />
				</p:column>
				<p:column headerText="#{msg.software_tipo}">
					<h:outputText value="#{soft.tipo.nome}" />
				</p:column>
				<p:column style="width:15%;text-align: center;"
					headerText="#{msg.acao}">
					<p:commandButton actionListener="#{softwareBean.remover(soft)}"
						rendered="#{soft.semHomologacoes()}"
						update=":form:grow,:form:dataTable" icon="ui-icon-trash">
						<p:confirm header="#{msg.confirmacao_cabecalho}"
							message="#{msg.confirmacao_mensagem}" icon="ui-icon-alert" />
					</p:commandButton>
					<p:commandButton icon="ui-icon-document" onclick="PF('dlg').show()"
						update=":form:gridDetail"
						actionListener="#{softwareBean.selecionar(soft)}">
					</p:commandButton>
					<p:commandButton icon="ui-icon-pencil" ajax="false"
						action="#{softwareBean.editar(soft)}" />
				</p:column>
			</p:dataTable>
		</p:panel>

		<p:blockUI block="form:dataTable" trigger="form:dataTable">
			<span>#{msg.carregando}</span>
			<br />
			<h:graphicImage library="images" name="load2.gif" />
		</p:blockUI>

		<p:confirmDialog global="true" showEffect="fade" hideEffect="explode"
			closable="false">
			<p:commandButton value="#{msg.sim}" type="button"
				styleClass="ui-confirmdialog-yes" icon="ui-icon-check">
			</p:commandButton>
			<p:commandButton value="#{msg.nao}" type="button"
				styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
		</p:confirmDialog>
		
		<p:dialog header="#{msg.detalhe_software}" widgetVar="dlg" resizable="true"
			showEffect="fade" hideEffect="explode">
			<h:panelGrid columnClasses="label-form, campo-form" columns="2"
				cellpadding="5" id="gridDetail">
				<h:outputText value="#{msg.software_marca}"></h:outputText>
				<h:outputText value="#{softwareBean.software.marca}"></h:outputText>

				<h:outputText value="#{msg.software_modelo}" />
				<h:outputText value="#{softwareBean.software.modelo}" />

				<h:outputText value="#{msg.software_observacao}" />
				<h:outputText value="#{softwareBean.software.observacao}" />

				<h:outputText value="#{msg.software_tipo}"></h:outputText>
				<h:outputText value="#{softwareBean.software.tipo.nome}"></h:outputText>
			</h:panelGrid>
		</p:dialog>
		
	</ui:define>
</ui:composition>
</html>